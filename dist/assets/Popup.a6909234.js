import{s as m,_ as x,a as b}from"./Setting.ff7cf0f8.js";import{k as C,l as j,m as E,n as w,p as B,q as S,r as V,o as d,g as v,a as c,w as i,s as g,F as N,h as D,c as F,u as M,j as O,v as T,x as q}from"./vendor.a2c2920f.js";import"./plugin-vue_export-helper.21dcd24c.js";const z={style:{width:"900px",padding:"0 20px 40px"}},A=g("div",{style:{"padding-top":"20px"}},"\u4EC5\u53EF\u9009\u62E9\u5DF2\u8BBE\u7F6E\u540D\u79F0\u7684\u6570\u636E",-1),L={style:{"margin-top":"20px"}},R=O("\u8DF3\u8F6C\u81F3\u9009\u9879\u9875"),J={setup($){const r=C([]),h=[{label:"url",prop:"key"},{slot:"select"}],_=j({}),f=async()=>{var o,n,a;try{const e=await m.get();r.value=Object.entries(e).filter(t=>t[1]instanceof Array).map(t=>({key:t[0],value:t[1].filter(l=>!!l.name)})),console.log(r.value);for(let t of r.value){const l=(a=(n=(o=t.value)==null?void 0:o.find(p=>p.active))==null?void 0:n.timestamp)!=null?a:"";console.log(l),_[t.key]=l,console.log(_)}}catch(e){console.log(e)}};E(()=>{try{f(),m.onchange(f)}catch(o){console.log(o)}});const y=async(o,n)=>{let a=n.value;for(let e of a)e.active=!1;a.find(e=>e.timestamp===o).active=!0,await m.set({[n.key]:T(a)}),q.success("\u8BBE\u7F6E\u6210\u529F")};return(o,n)=>{const a=x,e=w,t=B,l=S,p=b,k=V("router-link");return d(),v("div",z,[c(a),A,c(p,{data:r.value,column:h,style:{"margin-top":"10px"}},{select:i(()=>[c(l,null,{default:i(({row:u})=>[c(t,{"model-value":M(_)[u.key],filterable:"",placeholder:"Select",onChange:s=>y(s,u)},{default:i(()=>[(d(!0),v(N,null,D(u.value,s=>(d(),F(e,{key:s.timestamp,label:s.name,value:s.timestamp},null,8,["label","value"]))),128))]),_:2},1032,["model-value","onChange"])]),_:1})]),_:1},8,["data"]),g("div",L,[c(k,{to:{path:"/options"},target:"_blank"},{default:i(()=>[R]),_:1})])])}}};export{J as default};
