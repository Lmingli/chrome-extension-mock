import{s as m,_ as C,a as j}from"./Setting.813e08c1.js";import{k as v,l as E,m as S,r as w,n as B,p as V,q as D,o as _,g,a as c,s as h,w as r,F as N,h as F,c as M,u as R,j as T,v as $,x as q}from"./vendor.6a1e0da2.js";import"./index.677e47bd.js";import"./plugin-vue_export-helper.21dcd24c.js";const z={style:{width:"900px",padding:"0 20px 40px"}},L={style:{"margin-bottom":"10px"}},O=T("\u8DF3\u8F6C\u81F3\u9009\u9879\u9875"),U=h("div",null,"\u4EC5\u53EF\u9009\u62E9\u5DF2\u8BBE\u7F6E\u540D\u79F0\u7684\u6570\u636E",-1),K={setup(A){const p=v({}),i=v([]),b=[{label:"url",prop:"key",formatter:(a,n,e,o)=>{let t=e;for(let l of p.value.listUrlRemoveStr)t=t.replace(l,"");return t}},{slot:"select"}],d=E({}),f=async()=>{var a,n;try{const e=await m.get();let o=[];for(let t in e){if(t==="setting"){p.value=e[t];continue}t!=="tmp"&&e[t].find(l=>!!l.name)&&(o.push({key:t,value:e[t]}),d[t]=(n=(a=e[t].find(l=>l.active))==null?void 0:a.timestamp)!=null?n:"")}i.value=o,console.log(i.value)}catch(e){console.log(e)}};S(()=>{try{f(),m.onchange(f)}catch(a){console.log(a)}});const x=async(a,n)=>{console.log(a,n);let e=n.value;for(let o of e)o.active=!1;a&&(e.find(o=>o.timestamp===a).active=!0),await m.set({[n.key]:$(e)}),q.success("\u8BBE\u7F6E\u6210\u529F")};return(a,n)=>{const e=C,o=w("router-link"),t=B,l=V,k=D,y=j;return _(),g("div",z,[c(e),h("div",L,[c(o,{to:{path:"/options"},target:"_blank"},{default:r(()=>[O]),_:1})]),U,c(y,{data:i.value,column:b,style:{"margin-top":"10px"}},{select:r(()=>[c(k,null,{default:r(({row:u})=>[c(l,{"model-value":R(d)[u.key],filterable:"",clearable:"",placeholder:"Select",onChange:s=>x(s,u)},{default:r(()=>[(_(!0),g(N,null,F(u.value.filter(s=>!!s.name),s=>(_(),M(t,{key:s.timestamp,label:s.name,value:s.timestamp},null,8,["label","value"]))),128))]),_:2},1032,["model-value","onChange"])]),_:1})]),_:1},8,["data"])])}}};export{K as default};
