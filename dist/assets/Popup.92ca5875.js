import{s as m,_ as k,a as x}from"./Setting.b2cfcd2a.js";import{k as C,l as j,m as E,r as w,n as B,p as S,q as V,o as d,g as v,a as c,s as g,w as i,F as N,h as D,c as F,u as M,j as O,v as T,x as $}from"./vendor.a931ea3f.js";import"./plugin-vue_export-helper.21dcd24c.js";const q={style:{width:"900px",padding:"0 20px 40px"}},z={style:{"margin-bottom":"10px"}},A=O("\u8DF3\u8F6C\u81F3\u9009\u9879\u9875"),L=g("div",null,"\u4EC5\u53EF\u9009\u62E9\u5DF2\u8BBE\u7F6E\u540D\u79F0\u7684\u6570\u636E",-1),J={setup(R){const r=C([]),h=[{label:"url",prop:"key"},{slot:"select"}],_=j({}),f=async()=>{var o,l,a;try{const e=await m.get();r.value=Object.entries(e).filter(t=>t[1]instanceof Array).map(t=>({key:t[0],value:t[1].filter(n=>!!n.name)})),console.log(r.value);for(let t of r.value){const n=(a=(l=(o=t.value)==null?void 0:o.find(u=>u.active))==null?void 0:l.timestamp)!=null?a:"";console.log(n),_[t.key]=n,console.log(_)}}catch(e){console.log(e)}};E(()=>{try{f(),m.onchange(f)}catch(o){console.log(o)}});const y=async(o,l)=>{let a=l.value;for(let e of a)e.active=!1;a.find(e=>e.timestamp===o).active=!0,await m.set({[l.key]:T(a)}),$.success("\u8BBE\u7F6E\u6210\u529F")};return(o,l)=>{const a=k,e=w("router-link"),t=B,n=S,u=V,b=x;return d(),v("div",q,[c(a),g("div",z,[c(e,{to:{path:"/options"},target:"_blank"},{default:i(()=>[A]),_:1})]),L,c(b,{data:r.value,column:h,style:{"margin-top":"10px"}},{select:i(()=>[c(u,null,{default:i(({row:p})=>[c(n,{"model-value":M(_)[p.key],filterable:"",placeholder:"Select",onChange:s=>y(s,p)},{default:i(()=>[(d(!0),v(N,null,D(p.value,s=>(d(),F(t,{key:s.timestamp,label:s.name,value:s.timestamp},null,8,["label","value"]))),128))]),_:2},1032,["model-value","onChange"])]),_:1})]),_:1},8,["data"])])}}};export{J as default};
